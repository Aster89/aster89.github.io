<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="css/main.css" media="screen"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>std::stream of consciousness</title>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap');
      @import url('https://fonts.googleapis.com/css2?family=Lato&display=swap');
      @import url('https://fonts.googleapis.com/css2?family=Raleway:wght@200&display=swap');
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript" defer src="js/language.js"></script>
    <script type="text/javascript" defer src="js/stackoverflow.js"></script>
    <script type="text/javascript" defer src="js/main.js"></script>
    <script type="text/javascript" defer src="js/tabs.js"></script>
    <script src="https://cdn.jsdelivr.net/g/lodash@4(lodash.min.js+lodash.fp.min.js)"></script>
    <!--link rel="stylesheet" href="highlight/styles/agate.min.css"-->
    <!--link rel="stylesheet" href="highlight/styles/androidstudio.min.css"-->
    <!--link rel="stylesheet" href="highlight/styles/base16/darcula.min.css"-->
    <!--link rel="stylesheet" href="highlight/styles/atom-one-dark.min.css"-->
    <link rel="stylesheet" href="highlight/styles/base16/solarized-dark.min.css">
    <link rel="icon" href="img/aster_logo.ico" type="image/x-icon">
    <script src="highlight/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
  </head>
  <body onload="populateSOProfileWidged(); populateSORadarPlot();">
    <div class="body centered-container"> <!-- this double container pattern is to avoid getting blind when opening dev tools -->
      <header>
        <div class="top-bar box-shadow centers-based-flex">
          <div>
            <div>
              <input id="toggle" class="toggle hidden dark-light-mode" type="checkbox"/>
              <label for="toggle"></label>
              <div>
                <span lang="en">dark and light mode coming soon&hellip;-ish</span>
                <span lang="it">modalit√† chiara e scura in arrivo&hellip;</span>
              </div>
            </div>
          </div>
          <div>
            <ul class="social-links">
              <li><a href="https://github.com/Aster89" class="fa fa-github"></a></li>
              <li>
                <a id="stackoverflow-link" href="https://stackoverflow.com/users/5825294" class="fa fa-stack-overflow"></a>
                <div class="stackoverflow-widget flex box-shadow">
                  <img class="avatar" src="https://graph.facebook.com/10207587812237236/picture?type=large" alt="?"/>
                  <span class=reputation>?</span>
                  <ul class="badges flex">
                    <li class="gold">?</li>
                    <li class="silver">?</li>
                    <li class="bronze">?</li>
                  </ul>
                </div>
              </li>
              <li><a href="https://www.linkedin.com/in/enrico-maria-de-angelis-1b9b1a116/" class="fa fa-linkedin"></a></li>
            </ul>
          </div>
          <div>
            <ul class="choice-picker">
              <li>
                <input id="lang-it" class="hidden" type="radio" name="choose-language" onclick="setLanguage('it')">
                <label for="lang-it" title="Italiano">
                  <svg preserveAspectRatio="none" class="country-flag" xmlns="http://www.w3.org/2000/svg" width="1500" height="1000" viewBox="0 0 3 2">
                    <rect width="3" height="2" fill="#009246"/>
                    <rect width="2" height="2" x="1" fill="#fff"/>
                    <rect width="1" height="2" x="2" fill="#ce2b37"/>
                  </svg>
                </label>
              </li>
              <li>
                <input id="lang-en" class="hidden" type="radio" name="choose-language" onclick="setLanguage('en')">
                <label for="lang-en" title="English">
                  <svg preserveAspectRatio="none" class="country-flag" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30" width="1200" height="600">
                    <clipPath id="s">
                    <path d="M0,0 v30 h60 v-30 z"/>
                    </clipPath>
                    <clipPath id="t">
                    <path d="M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z"/>
                    </clipPath>
                    <g clip-path="url(#s)">
                    <path d="M0,0 v30 h60 v-30 z" fill="#012169"/>
                    <path d="M0,0 L60,30 M60,0 L0,30" stroke="#fff" stroke-width="6"/>
                    <path d="M0,0 L60,30 M60,0 L0,30" clip-path="url(#t)" stroke="#C8102E" stroke-width="4"/>
                    <path d="M30,0 v30 M0,15 h60" stroke="#fff" stroke-width="10"/>
                    <path d="M30,0 v30 M0,15 h60" stroke="#C8102E" stroke-width="6"/>
                    </g>
                  </svg>
                </label>
              </li>
            </ul>
          </div>
        </div>
        <div class="page-title-and-author">
          <h1 id="page-title" class="page-title center-text-horz text-shadow">
            <code class="language-cpp"><span class="transparent-50">std::io</span>stream </code>
            <span class="handwriting"> of consciousness</span>
          </h1>
          <h4 class="handwriting page-author text-shadow">
            <a class="my-email" href="mailto:enricomaria.dean6elis@gmail.com">
              &mdash; Enrico Maria De Angelis
            </a>
          </h4>
        </div>
      </header>
      <div lang="en" class="wip center-text-horz text-shadow">Work in progress&hellip;</div>
      <div lang="it" class="wip center-text-horz text-shadow">Lavori in corso&hellip;</div>
      <nav> <!-- consider moving this into the header: http://www.cellbiol.com/bioinformatics_web_development/chapter-3-your-first-web-page-learning-html-and-css/introducing-html5-footer-header-nav-article-section-and-aside-elements/ -->
        <ul class="site-nav">
          <li class="switch-button">
            <input class="hidden" type="radio" name="nav-tabs" id="posts-radio" value="posts" checked>
            <label for="posts-radio" class="box-shadow">
              <span class="text">
                <span lang="en">Thoughts</span>
                <span lang="it">Pensieri</span>
              </span>
              <span class="icon fa fa-comment"></span>
            </label>
          </li>
          <li class="switch-button">
            <input class="hidden" type="radio" name="nav-tabs" id="projects-radio" value="projects">
            <label for="projects-radio" class="box-shadow">
              <span class="text">
                <span lang="en">Projects</span>
                <span lang="it">Progetti</span>
              </span>
              <span class="icon fa fa-code"></span>
            </label>
          </li>
          <li class="switch-button">
            <input class="hidden" type="radio" name="nav-tabs" id="suggested-books-radio" value="suggested-books">
            <label for="suggested-books-radio" class="box-shadow">
              <span class="text">
                <span lang="en">Readings</span>
                <span lang="it">Letture</span>
              </span>
              <span class="icon fa fa-book"></span>
            </label>
          </li>
          <li class="switch-button">
            <input class="hidden" type="radio" name="nav-tabs" id="about-me-radio" value="about-me">
            <label for="about-me-radio" class="box-shadow">
              <span class="text">Curriculum</span>
              <span class="icon fa fa-university"></span>
            </label>
          </li>
        </ul>
      </nav>
      <main id="main">
        <div class="main centered-container">
          <section class="tab-page" id="posts-tab">
            <article class="post-entry" id="trimmed-string-equality--and--big-o-complexity">
              <div class="__after-only-child-center-below centered-container">
                <h6 class="text-shadow handwriting underline-underbullet">24/04/2022</h6>
              </div>
              <div class="panel panel--rounded box-shadow text-shadow">
                <div class="panel__header center-text-horz">
                  <img class="panel-icon" src="img/c++-logo.png" alt="">
                  <h2><a href="#trimmed-string-equality--and--big-o-complexity">Big-O complexity is not all you need</a></h2>
                </div>
                <div class="text-shadow">
                  <p>This article is about the time I discovered, the hard way, that
                  there's much more than big-O complexity in performance analysis:
                  even if two algorithms have the same big-O complexity, the difference
                  in how they perform can be tremendous, because of the literally <b>huge</b>
                  multiplicative constant that can exist between them, as a consequence of
                  hardware optimizations.
                  </p>
                  <h4>A simple problem &mdash; string equality</h4>
                  <p>One of the simplest expressions that sooner or later all
                  programmers write is
                  </p>
                  <pre><code>str == "some string"</code></pre>
                  <p>and sometimes we don't even care much about the time
                  complexity of such a comparison.
                  </p>
                  <p>For instance, if this comparison is done in the context of
                  command line parsing to recognize whether the user has
                  selected an option, so whatever the complexity of that comparison is,
                  we'll pay for it only once, or at least a small known number of times.
                  </p>
                  <h4>String equality &mdash; many times</h4>
                  <p>However there are times when this comparison is run for all elements
                  of a possibly long collection of strings</p>
                  <pre><code class="language-cpp">auto validStrings = strings | filter(not_fn(equals("&lt;invalid&gt;"s)));</code></pre>
                  <p>(See example on <a href="https://godbolt.org/z/nW43vWY5P">Compiler Explorer</a>.)</p>
                  <p>If <code>strings</code> contains <i>N</i> strings, we'll
                  pay the cost of string comparison <i>N</i> times, so we do
                  want to know how much that cost is. And if we make those comparisons
                  inside an algorithm which is not linear in the number of strings like
                  <code>filter</code>, but, say, quadratic, then knowing the
                  cost of the individual comparisons is even more
                  important.</p>
                  <p>So, how much is the time complexity of string comparison?</p>
                  <p><q>Well</q>, I told myself, <q>the best case scenario is when the strings
                  have different length, in which case the algorithm can return in constant time</q>.</p>
                  <p>And then <q>if their length is equal, then all characters have to be compared
                  one by one for as long as it takes to find a character that is different between the
                  two strings</q></p>

                  <h4>Rushed conclusions</h4>
                  <p>In summary, my conclusion was that</p>
                  <ul>
                    <li>
                      <code>"hello"</code> and <code>"hello world"</code> are
                      compared in constant time because their lengths are
                      different. (This is the best case scenario.)
                    </li>
                    <li>
                      <code>"hello"</code> and <code>"hello"</code> are
                      compared in linear time, and since they <i>are</i> equal,
                      it takes 6 comparisons to conclude that they are indeed
                      equal, because 1 comparison is to check their lengths are equal
                      and 5 is the number of characters that we need to compare.
                      (This is the worst case scenario.)
                    </li>
                    <li><code>"hello"</code> and <code>"help!"</code> are also compared
                      in linear time, but it takes just 5 comparisons to conclude so,
                      because we can bale out as soon as the second <code>'l'</code> in
                      <code>"hello"</code> compares different from the <code>'p'</code>
                      in <code>"help!"</code>. (This is an average scenario.)
                    </li>
                  </ul>
                  <h4>A more complex problem &mdash; whitespace-trimmed string equality</h4>
                  <p>Fast forward a few months, and I had to consider that, in
                  the dummy example described above, the invalid strings could
                  contain some leading and trailing whitespace, e.g. an
                  invalid string could be <code>"‚ê£‚ê£‚ê£&lt;invalid&gt;‚ê£‚ê£"</code>,
                  where I've used the <code>‚ê£</code> symbol to mean a
                  whitespace.</p>
                  <p>Forgetful of my conclusions above, with confidence I changed the code to
                  something like this</p>
                  <pre><code class="language-cpp">auto validStrings = strings | filter(compose(not_fn(equals("&lt;invalid&gt;"s)), trim(isSpace)));</code></pre>
                  <p>(See example on <a href="https://godbolt.org/z/Mj8d1c7j3">Compiler Explorer</a>.)</p>
                  <p>where <code class="language-cpp">compose(f, g)</code> is a
                  function that first runs <code>trim(isSpace)</code> on its
                  input to remove any leading and trailing whitespace, and then
                  runs <code>not_fn(equals("&lt;invalid&gt;"))</code> on the
                  result.
                  </p>
                  <p>It's neat, isn't it?</p>
                  <p>And what about the complexity? <q>Well</q>, I thought, <q>the trimming
                    is a linear operation too, just like checking strings for
                    equality, as all it does is comparing the leading characters one by
                    one with the space character, increasing a counter at the same time; when
                    the first non-space is met, the counter is basically the offset
                    from which the string needs to be compared with <code>"&lt;invalid&gt;"</code>
                  </q> (the same holds, modulo a slightly different wording, for trailing whitespace).
                  </p>

                  <h4>The whitespace-trimmed equality comparison is much slower!</h4>
                  <p>It turned out that the code above performed poorly with respect to the original one,
                  and I initially had no idea why, because based on my analysis both functions passed
                  to <code>filter</code> should run in linear time with the length of the string they are
                  passed.
                  </p>

                  <h4>Here's why</h4>
                  <p>Stepping through the code with the debugger is what
                  eventually helped me figure out what my mistake was:
                  </p>
                  <ul>
                    <li>
                      when comparing <code>"‚ê£‚ê£‚ê£hello‚ê£‚ê£"</code> with itself via
                      <code class="language-cpp">std::equal_to&lt;&gt;{}</code>,
                      a.k.a. the plain <code class="language-cpp">==</code>
                      operator, the function
                      <a href="https://en.cppreference.com/w/c/string/byte/memcmp"><code class="language-cpp">__builtin_memcmp</code></a>
                      is called once to compare the two strings, and the function
                      <a href="https://en.cppreference.com/w/c/string/byte/memchr"><code class="language-cpp">__builtin_memchr</code></a>
                      is never called.
                    </li>
                    <li>
                      when comparing <code>"‚ê£‚ê£‚ê£hello‚ê£‚ê£"</code> with itself via
                      <code class="language-cpp">equal ^on^ trim(isSpace)</code>,
                      a.k.a. the plain <code class="language-cpp">==</code>
                      operator called on the whitespace-trimmed strings, the function
                      <a href="https://en.cppreference.com/w/c/string/byte/memchr"><code class="language-cpp">__builtin_memchr</code></a>
                      is called 7 times! Once for each space that is trimmed,
                      plus once for the <code class="language-cpp">'h'</code>
                      and once for <code class="language-cpp">'o'</code>(i.e.
                      the first and last non-space characters); only after all
                      these calls, does the compiler run a string comparison
                      between what's left, the two <code>"hello"</code>
                      substrings, with pretty much the same efficiency as the previous point.
                    </li>
                  </ul>
                  <p>So it is evident that the trimming part of the algorithm is what really costs, for the reason that it requires
                  the processor to truly process the trimmed characters one at a time.</p>

                  <p>Fundamentally, what's
                  wrong in the conclusion I had initially drawn is that I
                  didn't consider at all that in the non-best case scenario,
                  e.g. when comparing two equally long strings for equality,
                  the comparisons between corresponding characters need not be
                  run in any specific order; actually, they can be run at the
                  same time. If the hardware is capable of comparing those 5
                  characters at the same time, it'll do, thus dividing the cost
                  of the comparison roughly by 5.
                  </p>

                  <p>On the contrary, trimming is an operation inherently
                  directional, because you want to find <i>the first
                  character</i> which is not equal to the characters you're
                  discarding, so you must walk the characters from the first onward,
                  and ask for each single one of them <q>should I discard it?</q>.</p>

                  <h4>Conclusions</h4>
                  <p>I've learned that Big-O complexity is maybe where one has to start
                  to assess whether an algorithm is good and how much, but it is certainly
                  not where one should stop.</p>
                  <p>As regards the fact that a processor can make, fundamentally, string
                  equality in (what to me looks like) constant time, I don't know much about it,
                  probably because I lack an academic background about this stuff (I'm
                  an aerospace engineer).
                  </p>
                  <p>For this reason, I decided to ask a question on
                  <a href="https://cs.stackexchange.com/questions/150755/complexity-of-string-comparison-vs-whitespace-trimmed-string-comparison">cs.stackexchange</a>;
                  at the time I'm writing this post it's only been commented, not answered, but the comments mention
                  a CPU implementation detail called <a href="https://en.wikipedia.org/wiki/Superscalar_processor">"superscalarity"</a>.
                  </p>
                </div>
              </div>
            </article>
            <article class="post-entry" id="bitten-by-sso">
              <div class="__after-only-child-center-below centered-container">
                <h6 class="text-shadow handwriting underline-underbullet">06/12/2021</h6>
              </div>
              <div class="panel panel--rounded box-shadow text-shadow">
                <div class="panel__header center-text-horz">
                  <img class="panel-icon" src="img/c++-logo.png" alt="">
                  <h2><a href="#bitten-by-sso"><span lang="en">Bitten by</span><span lang="it">Scottato dalla</span> SSO</a></h2>
                </div>
                <div class="text-shadow">
                  <p>I was working on a text processing tool that
                  accepts text in a form as simple as
                  <pre><code class="language-cpp">std::string input{"this is the text the algorithm is fed with"};</code></pre>
                  and does simple stuff like filtering and transforming text (e.g.
                  removing vocals, converting tabs to spaces, &hellip;,
                  whatever comes to mind), eventually showing the string in some
                  GUI with colored overlays based on the outcome of those text
                  operations.
                  </p>

                  <p>Instead of performing these operations eagerly, by dealing with
                  actual <code class=language-cpp">std::string</code>s (which
                  would mean that potentially a lot of
                  <code class=language-cpp">std::string</code>
                  are constructed, copied, and moved around), the algorithm
                  works with views, and returns a collection of views on the input string,
                  without actually instantiating, copying, or moving
                  any <code class=language-cpp">std::string</code>.
                  Making the simplifying assumption that the algorithm truly returns
                  one single <code class="language-cpp">std::string_view</code>, the code
                  could look like this
                  <pre><code class="language-cpp">std::string_view algo(std::string const&amp; s) {
    // very complex algorithm: chops off first and last characters
    return std::string_view(s.c_str() + 1, s.size() - 1);
}</code></pre>
                  and be used like this
                  <pre><code class="language-cpp">auto out = algo(input);</code></pre>
                  </p>

                  Now, in the application I was working on, the
                    <code>out</code> object played the role of the <i>model</i>
                    in the <a href="https://it.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel">MVVM pattern</a>,
                    and it was not directly used in the GUI.
                  </p>

                  <p>What was used in the GUI were two things:
                  </p>
                  <ul>
                    <li>the actual text contained in <code>input</code>
                      in order to&hellip; well, show the text on screen,</li>
                    <li>and the <a href="https://it.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel"><i>viewmodel</i></a>
                      which, in practice, just consisted of <code>out.length()</code>.
                    </li>
                  </ul>
                  <p>
                  And how were these two things made available to the front end? By wrapping them both
                  in a class like this
                  </p>
                  <pre><code class="language-cpp">struct TextAndViewmodel {
    std::string s;
    int vm;
    TextAndViewmodel(std::string&amp;&amp; s, int vm)
        : s{std::move(s)}, vm{vm}
    {}
};</code></pre>
                  <p>
                  and that's were a silent bug was waiting for me! Can you spot it?
                  </p>

                  <p>The bug is in that <code>TextAndViewmodel</code> holds the
                  text by value (rather than via a <code>std::unique_ptr</code>
                  or some other owning wrapper with pointer or reference
                  semantics).</p>

                  <p>Because of that, when such an object was initialized, for instance
                  via
                  <pre><code class="language-cpp">TextAndViewmodel tv{std::move(input), out.length()};</code></pre>
                  the <code>input</code> was moved from under the
                  <code>std::string_view</code> returned by the algorithm
                  (<code>out</code>), which end up
                  being dangling.
                  </p>

                  <p>To be precise, this was not yet a bug: the <code>std::string</code>
                  underlying <code>out</code> was gone forever, but <code>out.length()</code>
                  was not affected, so the <code>TextAndViewmodel</code> object was just fine.
                  </p>

                  <p>It became a bug as soon as, for other reasons, I had to include
                  <code>out</code> itself into <code>tv</code>,
                  and make use of it to decide whether <code>vm</code> should be used or not
                  for each of the <code>TextAndViewmodel</code> objects (it was
                  a kind of a last-minute filtering right before sending stuff to
                  the GUI).
                  </p>
                  <pre><code class="language-cpp">struct TextAndViewmodel {
    std::string s;
    std::string_view sv;
    TextAndViewmodel(std::string&amp;&amp; s, std::string_view vm)
        : s{std::move(s)}, sv{sv}
    {}
    // if the client needs what was `vm` in the
    // previous snippet, they can go for `sv.length()`
};</code></pre>
                  <p>
                  At that point, indeed, I started noticing some
                  weird things going on in the GUI:
                  </p>
                  <ul>
                    <li>the text was ok, because <code>input</code> was moved into <code>tv</code>,</li>
                    <li>and for "normally sized" text files everything was fine in all respects,</li>
                    <li>but whenever I tried with a few characters long files, the GUI
                      behaved as the filtering I mentioned above never happened, even if it should.</li>
                  </ul>

                  <p>After spending some time (I really can't unveil how much) debugging and banging my
                  head on the monitor, I understood what was going on: <a
                                                                           href="https://stackoverflow.com/questions/10315041/meaning-of-acronym-sso-in-the-context-of-stdstring">SSO</a>
                  was biting me. Actually, the other way around: SSO is the only reason why I could see
                  the bug, otherwise it could have lingered there, silent for a long while, waiting for
                  somebody other than me, maybe a customer, to bite.</p>

                  <p>So what was going on?</p>

                  <p>When <code>input</code> was long enough and
                  SSO wasn't kicking in, the <code>char
                    const*</code> inside it was left intact, as the "movement"
                  of resources simply consisted in the pointer held by
                  <code>input</code> was copied into the one held by
                  <code>tv.s</code>, and then set to <code>nullptr</code>
                  (yes, <a
                    href="https://stackoverflow.com/questions/3413470/what-is-stdmove-and-when-should-it-be-used"><code>std::move</code>
                    doesn't move anything</a>).
                  </p>
                  <p>The consequence is that <code>out</code> was "legally"
                  invalid, because <code>input</code> was
                  <code>std::move</code>d from under it, but "romantically"
                  (aka SSO not kicking in) still looking onto the correct area
                  of memory.
                  </p>

                  <p>On the other hand, when SSO kicked in, then the actual <code>char</code>s
                  stored in the "special short-string compartment" in
                  <code>input</code> were truly copied, one by one, into the corresponding
                  member of <code>tv.s</code>, and then freed, which for me resulted in
                  <code>input</code> being left full of garbage <code>char</code>acters and,
                  in turn, the filtering I mentioned not happening at all.
                  </p>

                  <p>In the process of debugging, I wrote this little code to print
                  the string length for which the SSO is disabled (which is an implementation
                  detail, by the way):
                  <pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;string&gt;

int main()
{
    std::string str1{""};
    bool sso{true};
    while (sso) {
        str1 += "x";
        char const* ptr = str1.c_str();
        std::string str2{std::move(str1)};
        sso = (void*)ptr != (void*)str2.c_str();
        std::cout &lt;&lt; (void*)ptr &lt;&lt; std::endl;
        std::cout &lt;&lt; (void*)str2.c_str() &lt;&lt; std::endl;
        str1 = str2;
    }
    std::cout &lt;&lt; str1.length() &lt;&lt; std::endl;
}</code></pre>
                  </p>
                </div>
              </div>
            </article>
            <article class="post-entry" id="emcpp-item26">
              <div class="__after-only-child-center-below centered-container">
                <h6 class="text-shadow handwriting underline-underbullet">20/11/2021</h6>
              </div>
              <div class="panel panel--rounded box-shadow text-shadow">
                <div class="panel__header center-text-horz">
                  <img class="panel-icon" src="img/c++-logo.png" alt="">
                  <h2><a href="#emcpp-item26">The importance of <i>Item 26</i> from <i>Effective Modern C++</i></a></h2>
                </div>
                <div class="text-shadow">
                  <h5>Foreword</h5>
                  <p>Some time ago I tried to <a
                    href="https://stackoverflow.com/questions/218025/what-is-the-difference-between-currying-and-partial-application">partially
                    apply</a> <a
                  href="https://en.cppreference.com/w/cpp/utility/variant/visit"><code>std::visit</code></a>
                  to a visitor, the reason being that I had to visit several <code>std::variant</code>s with the same visitor (in different places of the code,
                  so passing all the <code>std::variant</code>s at the same time to <code>std::visit</code> was not viable).</p>
                  <p>Sure, I could quickly write a lambda to do the job:</p>
                  <pre><code class="language-cpp">auto visitWith = [](auto const&amp; visitor){
  return [](auto const&amp;... variants){
    return std::visit(visitor, variants...);
  };
};</code></pre>
                  <p>but why should I, if there's already the <a href="http://boostorg.github.io/hana/">Boost.Hana</a> library out there that offers
                  <a href="http://boostorg.github.io/hana/group__group-functional.html#ga778b2daa27882e71d28b6f2b38982ddf"><code>hana::partial</code></a>?
                  However, to do so, I had the problem that
                  <code>std::visit</code> is a template function, so <a
                  href="https://stackoverflow.com/questions/65811716/most-terse-and-reusable-way-of-wrapping-template-or-overloaded-functions-in-func">it can't be passed around</a> just like if
                  it was an object. Easy peasy, I wrapped it in a lambda:
                  </p>
                  <pre><code class="language-cpp">auto visit = [](auto const&amp; visitor, auto const&amp;... variants){
  return std::visit(visitor, variants...);
};</code></pre>
                  <p>Yeah, I hear you: if I'm happy with this lambda, why should the previous one bother me?</p>
                  <p>Well, that's true, but the point is that stubbornly trying to use <code>hana::partial</code>
                  is what made me understand, once more, that Scott Meyers' book is a holy bible!
                  </p>

                  <h5>The problem</h5>
                  <p>Wrapping <code>std::visit</code> in the <code>visit</code>
                  object, however, wasn't enough to be able to partially
                  apply <code>visit</code> to a visitor; not in the naive code
                  I wrote,</p>
                  <pre><code class="language-cpp">auto visitor = hana::overload(
  [](auto arg)               { /* whatever */ },
  [](double arg)             { /* whatever */ },
  [](const std::string&amp; arg) { /* whatever */ });

auto visitWithVis = hana::partial(visit, visitor);</code></pre>
                  <p>which was failing to compile, <a href="https://godbolt.org/z/9GnT9fzox">with a pretty confusing error</a>, the key part of which was (in hindsight!)</p>
                  <pre><code>error: no matching function for call to ‚Äòhana::overload_t&lt;main()::&lt;lambda(double)&gt;, main()::&lt;lambda(const string&amp;)&gt; &gt;::overload_t()‚Äô</code></pre>

                  <p>Therefore I asked <a href="https://stackoverflow.com/questions/68099079/understanding-error-when-using-partial-function-application-or-curry-in-conjunct">a question on StackOverflow</a>
                  but nobody answered (for 5 months!), so today I decided to spend some time myself to find out the answer.</p>

                  <h5>The investigation</h5>
                  <p>Eventually, I was able to set up a very minimal example to reproduce the problem: </p>
                  <pre><code class="language-cpp">#include &lt;boost/hana/functional/overload.hpp&gt;
auto ovl{hana::overload(l1, l2, l3)};
using Ovl = decltype(ovl);
Ovl ovl2{ovl}; // this triggers the compilation error</code></pre>
                  <p>From the comment you understand that there's something wrong with copying the <code>ovl</code> object.
                  As suggested in <a href="https://stackoverflow.com/questions/68099079/understanding-error-when-using-partial-function-application-or-curry-in-conjunct?noredirect=1#comment123799416_68099079">a comment</a>,
                  however, making <code>ovl</code> a <code>const</code> object solves the problem, which gave me some food for thoughts.
                  </p>

                  <p>By peeping for some time into <a href="https://github.com/boostorg/hana/blob/master/include/boost/hana/functional/partial.hpp"><code>hana::partial</code></a>
                                    and <a href="https://github.com/boostorg/hana/blob/master/include/boost/hana/functional/overload.hpp"><code>hana::overload</code></a>
                  I could later make up a less minimal, but more meaningful example:
                                    </p>
                  <pre><code class="language-cpp">#include &lt;boost/hana/functional/overload.hpp&gt;

auto l1 = [](int){};    using L1 = decltype(l1);
auto l2 = [](double){}; using L2 = decltype(l2);
auto l3 = [](float){};  using L3 = decltype(l3);

using Ovl = hana::overload_t&lt;L1, L2, L3&gt;

Ovl ovl{l1,l2,l3};

Ovl ovl2{ovl}; // this triggers the compilation error</code></pre>
                  <p>where <code>hana::overload_t</code> is the (template) class of the object returned by <code>hana::overload</code>.</p>

                  <p>To understand what's going on, I had to look once more,
                  and for more than just a few minutes, into the implementation of
                  <a
                    href="https://github.com/boostorg/hana/blob/998033e9dba8c82e3c9496c274a3ad1acf4a2f36/include/boost/hana/functional/overload.hpp#L41-L71"><code>hana::overload_t</code></a>,
                  and to play a bit the role of the compiler, by "manually
                  instantiating" it:</p>
                  <pre><code>struct overload_t&lt;L1, L2, L3&gt;
    : L1
    , overload_t&lt;L2, L3&gt;
{
    using type = overload_t;
    using L1::operator();
    using overload_t&lt;L2, L3&gt;::operator();

    template &lt;typename F_, typename ...G_&gt;
    constexpr explicit overload_t(F_&amp;&amp; f, G_&amp;&amp; ...g)
        : L1(static_cast&lt;F_&amp;&amp;&gt;(f))
        , overload_t&lt;L2, L3&gt;(static_cast&lt;G_&amp;&amp;&gt;(g)...) // error points here
    { }
};</code></pre>

                  <h5>The solution</h5>
                  <p>It is then clear what's going on: the code <code>Ovl
                    ovl2{ovl};</code>, which should make use of the copy
                  constructor, is using instead the template member function
                  above, with <code>F_ = overload_t&lt;L1, L2,
                    L3&gt;&amp;</code> and <code>G_ = {}</code> (i.e.
                  <code>G_</code> is an empty pack), which in turn causes an
                  attempt to initialize <code>overload_t&lt;L2,
                    L3&gt;()</code>, which is erroneous and nicely maps to the
                  key part of the error I copied above.
                  </p>

                  <p>But why does the compiler try to use the template
                  constructor above, instead of the compiler-generated copy
                  constructor (the generation of which is <b>not</b> suppressed, as per <i>Item 17</i> from the same book)?</p>

                  <p>The answer is at the end of <i>Item 26</i> from Scott Meyers' <i>Effective Modern C++</i>:</p>

                  <blockquote>
                    <p>
                    <code>cloneOfP</code> is being initialized with a
                    non-<code>const</code> lvalue (<code>p</code>), and that
                    means that the templetized constructor can be instantiated
                    to take a non-<code>const</code> lvalue of type
                    <code>Person</code>
                    </p>
                    <p>
                    [&hellip;]
                    </p>
                    <p>
                    Calling the copy constructor would require adding
                    <code>const</code> [&hellip;], but calling the instantiated
                    template requires no such addition. [&hellip;] the template is thus a better match
                    </p>
                  </blockquote>
                  <p>(In our case <code>cloneOfP</code> corresponds to <code>ovl2</code>, <code>p</code> to <code>ovl</code>, and <code>Person</code> to <code>overload_t&lt;L1, L2, L3&gt;</code>.)</p>

                  <p>Thanks again, Scott, always!</p>
                </div>
              </div>
            </article>
          </section>
          <section class="tab-page" id="projects-tab">
            <article class="post-entry" id="css-radar-diagram">
              <div class="__after-only-child-center-below centered-container">
                <h6 class="text-shadow handwriting underline-underbullet">4/1/2022</h6>
              </div>
              <div class="panel panel--rounded box-shadow text-shadow">
                <div class="panel__header center-text-horz">
                  <img class="panel-icon" src="img/css3-logo.png" alt="">
                  <h2>
                    <a href="#css-radar-diagram">
                      <span lang="en">CSS-only radar diagram</span>
                      <span lang="it">Diagramma a radar con solo CSS</span>
                    </a>
                  </h2>
                </div>
                <div class="text-shadow">
                  <p>
                  I still remember I was flying back or away from home when I started thinking about this webpage
                  with these thoughts coming in sequence
                  </p>
                  <ul>
                    <li>Oh, I really enjoyed <i><a href="https://www.manning.com/books/css-in-depth">CSS in Depth</a></i>,</li>
                    <li>I think I could really leverage that to make a good blog;</li>
                    <li>I should probably start by doing what I initially planned to do: putting my CV online&hellip;</li>
                    <li>&hellip; with my working experience and all my skills&hellip;</li>
                    <li>Yeah, especially all my programming skills!</li>
                    <li>A diagram with the skills would be nice&hellip;</li>
                    <li>I should try doing it without any JavaScript!</li>
                    <li>With CSS I can certainly do it!</li>
                  </ul>
                  <p>Well, the reality was not that smooth though. As soon as I
                  had put my feet literally back on earth and played around a bit,
                  I realized that there's a fundamental problem with making
                  CSS-only plots:
                  </p>
                  <ul>
                    <li>ideally, the data, e.g. the <i>x</i> and <i>y</i> coordinates of a piecewise linear plot,
                      should be contained in the HTML markup, they are part of the content of the page, having
                      nothing to do with style (CSS), let alone dynamics (JavaScript);
                    </li>
                    <li>it is reasonable to think that each pair <i>(x, y)</i> should belong to one HTML element
                      representing a "point" of the curve;
                    </li>
                    <li>then CSS should take care of "drawing" lines, curves, colors, and what not.</li>
                  </ul>
                  <p>So how should that ideal HTML look like? Probably something along these lines
                  </p>
                  <pre><code class="language-html">&lt;div class="plot"&gt;
  &lt;!-- 6 points of the y = x¬≤ parabola --&gt;
  &lt;div class="point" style="--x: 0; --y: 0;"&gt;&lt;/div&gt;
  &lt;div class="point" style="--x: 1; --y: 1;"&gt;&lt;/div&gt;
  &lt;div class="point" style="--x: 2; --y: 4;"&gt;&lt;/div&gt;
  &lt;div class="point" style="--x: 3; --y: 9;"&gt;&lt;/div&gt;
  &lt;div class="point" style="--x: 4; --y: 16;"&gt;&lt;/div&gt;
  &lt;div class="point" style="--x: 5; --y: 25;"&gt;&lt;/div&gt;
&lt;/div&gt;</code></pre>
                  <p>
                  where the <i>x</i> and <i>y</i> coordinates are in the <code>style</code> attribute
                  so that CSS can pick it up easily.
                  </p>
                  <p>But now the point is the following:</p>
                  <blockquote>
                    How the heck do I draw anything, say a line, via CSS
                    according to quantities specific to two
                    <i><b>separate</b></i> elements?
                  </blockquote>
                  <p>Well, the answer is simply that <i>I cannot</i>, the reason being that,
                  in order to draw lines or more complex stuff via CSS, one has to leverage things
                  like <code>border</code>s (to draw lines), <code>background-color</code>s (to
                  draw areas), and so on. But those things are specific to <b><i>one</i></b> element,
                  and cannot bridge between two elements.
                  </p>
                  <p>Regardless of how reasonable my self-argument sounded, I couldn't really
                  just think I had the correct answer already, and so I wanted to search a bit
                  online:
                  </p>
                  <ul>
                    <li>First, searching online for "CSS plot" <i>et similia</i> I
                      generally found stuff containing <code>.js</code> written
                      here or there, sooner or later down the page, which already
                      made me feel like I could be right.
                    </li>
                    <li>Second, I found <a href="https://css-tricks.com/how-to-make-a-line-chart-with-css/">this article from <i>CSS Tricks</i></a>,
                      which links to <a href="https://www.chartjs.org/">Chart.js</a> in the first few lines, and later shows
                      a solution that features, for each HTML element
                      representing a point, not just the <code>--x</code> and
                      <code>--y</code> CSS properties, but also properties
                      <code>--hypotenuse</code> and <code>--angle</code> in a
                      nested HTML element (peep into the code and you'll see).
                      If you tamper with those, you'll see the lines detaching
                      from the points; in other words, the lines are not bound
                      to the points, and you have to recompute the values of
                      <code>--hypotenuse</code> and <code>--angle</code> by
                      hand if you change <code>--x</code> and <code>--y</code>.
                    </li>
                    <li>Finally, I found <a href="https://chartscss.org/">Chart.css</a>
                      a <i>CSS data visualization framework</i> that claims
                      <blockquote>
                        Charts.css is a modern CSS framework. It uses CSS utility classes to style HTML elements as charts.
                      </blockquote>
                      (By the way, the very chart I was looking for, <a href="https://chartscss.org/charts/radar/">the radar chart, is under development</a>
                      while I'm writing these notes.)
                    </li>
                  </ul>
                  <p>The last result was kind of illuminating.
                  Indeed, if you look at the documentation page of the maybe simplest example, the <a href="https://chartscss.org/charts/line/">line</a>,
                  you'll see that it states the following:
                  </p>
                  <blockquote>
                    When you add data, you need to supply not
                    only the data <code>--size</code> variable but also the
                    <code>--start</code> variable that indicates the
                    starting point.
                  </blockquote>
                  <p>
                  Rephrasing it (and you can verify it by playing around with the code),
                  each HTML element that represents a point in the graph must provide
                  data to the CSS not just for that point, but also for the point before it.
                  And this is in the simple scenario of piecewise linear curve; if you
                  think about something more complex, there might be need for one HTML
                  element to carry data about more neighboring points.
                  </p>
                  <p>Given this (bad) news and going back to the HTML snippet above,
                  we could rewrite it like this (where the trailing <code>p</code> of
                  <code>--xp</code> and <code>--yp</code> stands for <i>previous</i>),
                  <pre><code class="language-html">&lt;div class="plot"&gt;
  &lt;!-- 5 segments (between the 6 points) of the y = x¬≤ parabola --&gt;
  &lt;div class="point" style="--xp: 0; --yp: 0; --x: 1; --y: 1;"&gt;&lt;/div&gt;
  &lt;div class="point" style="--xp: 1; --yp: 1; --x: 2; --y: 4;"&gt;&lt;/div&gt;
  &lt;div class="point" style="--xp: 2; --yp: 4; --x: 3; --y: 9;"&gt;&lt;/div&gt;
  &lt;div class="point" style="--xp: 3; --yp: 9; --x: 4; --y: 16;"&gt;&lt;/div&gt;
  &lt;div class="point" style="--xp: 4; --yp: 16;--x: 5; --y: 25;"&gt;&lt;/div&gt;
&lt;/div&gt;</code></pre>
                  giving a chance to our CSS to pick the coordinates of the two
                  points between which line has to be drawn.
                  </p>
                  <p>As regards how that line is drawn, I don't think there's one single
                  solution, and to be honest, I haven't bothered making up some random plots;
                  I targeted full steam ahead the radar plot I wanted.</p>
                  <p>Here are the few points on which that chart is based (I'm referring to
                  the data content of the graph, and not the meta content, aka the grid):
                  </p>
                  <ol>
                    <li>a radar diagram looks like a polygon, with as many vertices (and sides)
                      as the number of quantities we want to show, say <i>N</i>, so we need
                      to provide that <i>N</i> via a CSS property, say
                      <code>--N</code> that we can encode in the HTML in the root
                      parent of the chart;</li>
                    <li>that polygon is made up of <i>N</i> triangles;</li>
                    <li>all triangles have one vertex in common, the one at the
                      center of the chart (so let's call that vertex <i>the center</i>),
                      and the angle insisting on that vertex is the same for
                      all triangles, being it equal to 350¬∞ divided by
                      <i>N</i>; <code>position</code>, <code>left</code>, and <code>right</code>
                      CSS properties can be used to achieve the translational positioning, whereas
                      <code>transform</code> and its <code>rotate</code> value can be used to
                      achieve the angular positioning;
                    </li>
                    <li>for each triangle, the lengths of the two sides starting from the
                      center are exactly the "current" quantity and the "previous" quantity,
                      so we need to make those quantities available to the CSS, as I've already
                      explained and shown in the previous HTML snippet;</li>
                    <li>any triangle can be thought of as half of an appropriate parallelogram,
                      the half on one side of the appropriate diagonal, and any parallelogram can be thought of as a square
                      subject to anisotropic scaling (that makes it a rectangle)
                      and shear (that makes it "skewed"), so we can make use of the
                      <code>background-image</code> CSS property and setting it to
                      something along the lines of
                      <code>linear-gradient(45deg, black 50%, transparent 50%);</code>
                      to have a black orthogonal triangle, and the <code>transform</code>
                      property with its <code>skew</code> and <code>scale</code> values.
                    </li>
                  </ol>
                  <p>
                  That's mostly it, but the difficult part is actually writing CSS code
                  such that it is reusable. Doing so goes through making appropriate use
                  of <a href="https://css-tricks.com/a-complete-guide-to-custom-properties/">CSS custom properties</a>.
                  </p>
                  <p>Thoroughly inspecting my Radar plot <a href="https://aster89.github.io/#about-me">here</a>,
                  both HTML-wise and CSS-wise (via dev tools or by peeping into <a href="https://github.com/Aster89/aster89.github.io">the repo on GitHub</a>),
                  together with <a href="https://aster89.github.io/docs">the associated KSS documentation</a>,
                  should be enough to understand how the various bricks fit
                  together. But it's not the easiest of the things&hellip;
                  </p>
                  <p>A few external references:
                  </p>
                  <ul>
                    <li>the general idea about how to draw triangles came from <a href="https://css.michaelschrauzer.com/demos/css-triangles.html">eCCSplorations</a></li>
                    <li>the idea about including the "previous point" in the HTML, as said, came from <a href="https://chartscss.org/">Chart.css</a></li>
                    <li>for trigonometric computations, the built on <a href="https://gist.github.com/stereokai/7666bfe93929b14c2dced148c79e0e97">this gist from stereokai</a></li>
                    <li>all the rest comes from the already mentioned <i><a href="https://www.manning.com/books/css-in-depth">CSS in Depth</a></i></li>
                  </ul>
                  <p>
                  However, here is an example of a plot with 12 skills (in hindsight,
                  I should probably put some effort in drawing as many diameters in the
                  canvas as the are skills on the plot, but that's easier said than done,
                  considering that each of those lines is done with one dedicated
                  <code>linear-gradient</code> in the CSS):
                  </p>
                  <div class="radar-plot polar-canvas img-shadow" style=" --number-of-skills: 12; --max-skill: 5;">
                    <div class="trigonometry triangle center-origin--after skill" style="--i: 0; --this-skill: 5; --next-skill: 3"></div>
                    <div class="trigonometry triangle center-origin--after skill" style="--i: 1; --this-skill: 3; --next-skill: 4"></div>
                    <div class="trigonometry triangle center-origin--after skill" style="--i: 2; --this-skill: 4; --next-skill: 1"></div>
                    <div class="trigonometry triangle center-origin--after skill" style="--i: 3; --this-skill: 1; --next-skill: 3"></div>
                    <div class="trigonometry triangle center-origin--after skill" style="--i: 4; --this-skill: 3; --next-skill: 3"></div>
                    <div class="trigonometry triangle center-origin--after skill" style="--i: 5; --this-skill: 3; --next-skill: 4"></div>
                    <div class="trigonometry triangle center-origin--after skill" style="--i: 6; --this-skill: 4; --next-skill: 2"></div>
                    <div class="trigonometry triangle center-origin--after skill" style="--i: 7; --this-skill: 2; --next-skill: 5"></div>
                    <div class="trigonometry triangle center-origin--after skill" style="--i: 8; --this-skill: 5; --next-skill: 2">
                      <div class="polar-diagram-icon polar-position">
                        <div>A</div>
                      </div>
                    </div>
                    <div class="trigonometry triangle center-origin--after skill" style="--i: 9; --this-skill: 2; --next-skill: 3">
                      <div class="polar-diagram-icon polar-position">
                        <div>B</div>
                      </div>
                    </div>
                    <div class="trigonometry triangle center-origin--after skill" style="--i: 10; --this-skill: 3; --next-skill: 3">
                      <div class="polar-diagram-icon polar-position">
                        <div>&hellip;</div>
                      </div>
                    </div>
                    <div class="trigonometry triangle center-origin--after skill" style="--i: 11; --this-skill: 3; --next-skill: 5"></div>
                  </div>
                  <p>
                   Notice that the markup is essentially very simple, as each
                   entry of the plot has 4 <code>class</code>es and 3 CSS
                   custom properties; here are the first two entries:
                   <pre><code class="language-html">&lt;div class="trigonometry triangle center-origin--after skill" style="--i: 0; --this-skill: 5; --next-skill: 3"&gt;&lt;/div&gt;
&lt;div class="trigonometry triangle center-origin--after skill" style="--i: 1; --this-skill: 3; --next-skill: 4"&gt;&lt;/div&gt;
&lt;div class="trigonometry triangle center-origin--after skill" style="--i: 2; --this-skill: 4; --next-skill: 1"&gt;&lt;/div&gt;
&lt;div class="trigonometry triangle center-origin--after skill" style="--i: 3; --this-skill: 1; --next-skill: 3"&gt;&lt;/div&gt;</code></pre>
                   The markup is just a bit more complicated, with two more nested elements, when we want to add some "labels"
                   to each entry; here's the entry labelled as <i>B</i>:
                   <pre><code class="language-html">&lt;div class="trigonometry triangle center-origin--after skill" style="--i: 9; --this-skill: 2; --next-skill: 3"&gt;
  &lt;div class="polar-diagram-icon polar-position"&gt;
    &lt;div&gt;B&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
                  </p>
                  <p>It is understood that using JavaScript we could
                  dynamically set <code>--next-skill</code> instead of
                  hardcoding it in the HTML, which clutters it with
                  content which is not semantically relevant.
                  </p>
                  <p>A few external references:
                  </p>
                  <ul>
                    <li>the general idea about how to draw triangles came from <a href="https://css.michaelschrauzer.com/demos/css-triangles.html">eCCSplorations</a></li>
                    <li>the idea about including the "previous point" in the HTML, as said, came from <a href="https://chartscss.org/">Chart.css</a></li>
                    <li>for trigonometric computations, the built on <a href="https://gist.github.com/stereokai/7666bfe93929b14c2dced148c79e0e97">this gist from stereokai</a></li>
                    <li>all the rest comes from the already mentioned <i><a href="https://www.manning.com/books/css-in-depth">CSS in Depth</a></i></li>
                  </ul>
                </div>
              </div>
            </article>
            <article class="post-entry" id="this-blog-sketch">
              <div class="__after-only-child-center-below centered-container">
                <h6 class="text-shadow handwriting underline-underbullet">21/11/2021</h6>
              </div>
              <div class="panel panel--rounded box-shadow text-shadow">
                <div class="panel__header center-text-horz">
                  <div class="panel-icon">
                    <img src="img/css3-logo.png" alt=""/>
                    <img src="img/html-logo.png" alt=""/>
                    <img src="img/javascript-logo.png" alt=""/>
                  </div>
                  <h2>
                    <a href="#this-blog-sketch">
                      <span lang="en">This blog</span>
                      <span lang="it">Questo blog</span>
                    </a>
                  </h2>
                </div>
                <div class="text-shadow">

                  <p>Before starting the adventure of setting up a personal blog,
                  I had never really dedicated myself to a personal programming
                  project that needs such an amount of work.</p>

                  <blockquote>In the Beginning, There Was Nothing. The Keith J. Grant Wrote <i><a href="https://www.manning.com/books/css-in-depth">CSS in Depth</a></i>.</blockquote>

                  <p>&hellip;and that's how I truly considered that I could write a blog myself.</p>

                  <p>To be precise, it all started with the slightly less pretentious aim of putting my CV online. Here's the first sketch</p>

                  <img src="img/first-sketch.jpg" alt=""/>

                  <p>But as soon as I started to feel comfortable with CSS and HTML, I also started to target somewhat
                  higher&hellip; Why not writing a blog?</p>

                  <p>Therefore I had to approach JavaScript as well, including meeting JQuery.</p>

                  <p><a
                    href="https://stackoverflow.com/search?q=%5Bcss%5D+or+%5Bjavascript%5D+or+%5Bhtml%5D+-%5Bregex%5D+-%5Bbash%5D+user%3A5825294+is%3Aquestion">Eventually,
                    I asked several question around the topic of web
                  development.</a></p>

                  <p>That's how it all started.</p>

                  <p>Well, for now nobody knows of it, but... you never know, maybe
                  somebody will start reading it&hellip;, and maybe find it useful too,
                  if they want to start a similar adventure themselves!</p>
                </div>
              </div>
            </article>
            <article class="post-entry" id="winzoz">
              <div class="__after-only-child-center-below centered-container">
                <h6 class="text-shadow handwriting underline-underbullet">01/09/2021</h6>
              </div>
              <div class="panel panel--rounded box-shadow text-shadow">
                <div class="panel__header center-text-horz">
                  <img class="panel-icon" src="img/vim-logo-png-transparent.png" alt=""/>
                  <h2>
                    <a href="#winzoz">
                      <span lang="en">Painless window navigation in Vim</span>
                      <span lang="it">Navigazione facile tra le finestre di Vim</span>
                    </a>
                  </h2>
                </div>
                <div class="text-shadow">
                  <div lang='en'>
                    <p>Today <a href="https://github.com/Aster89/WinZoZ">my
                      Vim plugin for easy window navigation</a>, which I named
                    <a href="https://nonciclopedia.org/wiki/Windows">WinZoZ</a>,
                    has got its first star! Given <a
                      href="https://stackoverflow.com/questions/69007954/vim-remap-ctrl-w-in-insert-mode-to-behave-as-it-does-in-normal-mode#comment121984179_69007954">this
                      comment on StackOverflow</a>, the star is from the user <a
                      href="https://stackoverflow.com/users/3271687/yolenoyer">@yolenoyer</a>.
                    </p>
                    <p>With this plugin you can hit <span class="key">&lt;leader&gt;</span><span class="key">w</span> to enter a
                    sort of "<span class="key">CTRL-W</span> mode", during which each key pressed will
                    be assumed preceded by <span class="key">CTRL-W</span>.</p>
                    <p>This can be very helpful, imho, if you're the kind of Vim user
                    who works with a big monitor and splits the terminal several times
                    both horizontally and vertically.</p>
                    <p>Indeed, if this is the case, chances are good
                    that you hit <span class="key">CTRL-W</span> a lot of times to move from one window
                    to another. (Search for <i><code>:help CTRL-W</code></i> to see how many commands start by <span class="key">CTRL-W</span>.)</p>
                    <p>Below is a GIF demonstrating the use of <a href="https://github.com/Aster89/WinZoZ">WinZoZ</a>:</p>
                    <img src="https://user-images.githubusercontent.com/20521900/97799961-55007280-1c31-11eb-9821-8b604345ac1b.gif" alt=""/>
                  </div>
                  <div lang='it'>
                    <p>Oggi <a href="https://github.com/Aster89/WinZoZ">il mio plugin Vim per agevolare la navigazione tra le finestre</a>, che ho chiamato
                    <a href="https://nonciclopedia.org/wiki/Windows">WinZoZ</a>,
                    ha guadagnato la sua prima stella! A giudicare da <a
                      href="https://stackoverflow.com/questions/69007954/vim-remap-ctrl-w-in-insert-mode-to-behave-as-it-does-in-normal-mode#comment121984179_69007954">questo
                      commento su StackOverflow</a>, la stella √® dall'utente <a
                      href="https://stackoverflow.com/users/3271687/yolenoyer">@yolenoyer</a>.
                    </p>
                    <p>Con questo plugin puoi premere <span class="key">&lt;leader&gt;</span><span class="key">w</span> per attivare una
                    specie di "modo <span class="key">CTRL-W</span>", durante il quale ogni tasto premuto verr√†
                    interpretato come preceduto da <span class="key">CTRL-W</span>.</p>
                    <p>Questo pu√≤ essere molto utile, secondo me se sei il tipo di utente Vim
                    che lavora con un grande monitor e divide il terminale molte volte
                    sia orizzontalmente che verticalmente.</p>
                    <p>In questo caso, infatti, ci sono buone probabilit√† che tu sia costretto a premere
                    <span class="key">CTRL-W</span> tantissime volte per muoversi da una finestra
                    all'altra. (Cerca <i><code>:help CTRL-W</code></i> per vedere quanti comandi iniziano con <span class="key">CTRL-W</span>.)</p>
                    <p>In basso c'√® una GIF dimostrativa dell'utilizzo di <a href="https://github.com/Aster89/WinZoZ">WinZoZ</a>:</p>
                    <img src="https://user-images.githubusercontent.com/20521900/97799961-55007280-1c31-11eb-9821-8b604345ac1b.gif" alt=""/>
                  </div>
                </div>
              </div>
            </article>
          </section>
          <section class="tab-page" id="suggested-books-tab">
            <article class="post-entry" id="not-so-clean-code">
              <div class="__after-only-child-center-below centered-container">
                <h6 class="text-shadow handwriting underline-underbullet">06/01/2022</h6>
              </div>
              <div class="panel panel--rounded box-shadow text-shadow">
                <div class="panel__header center-text-horz">
                  <h2><a href="#not-so-clean-code">Clean Code (?) - part 1</a></h2>
                </div>
                <div class="text-shadow">
                  <p>I didn't like that book.</p>
                  <p>&hellip;</p>
                  <p>(OK, maybe I should be more verbose than that.)</p>
                  <p>First of all, it's full of just Java code. With
                  such a premise, I can't hope that the author expresses
                  as general ideas as the title would imply, and indeed
                  he doesn't; what he does instead, is trying to give
                  a recipe made up of dogmatic rules for writing presumably
                  clean Java code. And given that languages evolve (I guess
                  Java does too, doesn't it? I don't know Java,
                  <strike>un</strike>fortunately), that old book is probably
                  not applicable anymore.
                  </p>
                  <p>Secondly, the book does have something good: I do agree
                  with several statements across the book, and those statements
                  are often engraved in section titles&hellip;</p>
                  <p>&hellip; but as long as examples are concerned,
                  I think they are flat out wrong: they mislead, and generally
                  go against what the titles express, at least based on the
                  few chapters I could read before giving up.
                  </p>
                  <p>And yes, this is gonna be a rant. (And it's not just my
                  rant: <i><a href="https://qntm.org/clean">It's probably time to
                      stop recommending Clean Code</a></i>.)</p>
                  <p>Take Chapter 2, <i>Meaningful Names</i>.</p>
                  <p>After an
                  <i>Introduction</i> that is as non-controversial as it is a
                  tautology, a section named <i>Use Intention-Revealing Names</i>
                  gives an example of a badly named variable
                  </p>
                  <blockquote>
                    <pre><code class="language-java">int d; // elapsed time in days</code></pre>
                    The name <code>d</code> reveals nothing.
                  </blockquote>
                  <p>
                  followed by examples of presumably better names for variables representing time
                  </p>
                  <blockquote>
                    We should choose a name that specifies what is being
                    measured and the unit of that measurement:
                    <pre><code class="language-java">int elapsedTimeInDays;
int daysSinceCreation;
int daysSinceModification;
int fileAgeInDays;</code></pre>
                  </blockquote>
                  <p>Now, I do understand and appreciate the suggestion of giving
                  a name that <i>specifies what is being measured</i>; after all,
                  if I don't know what a variable <i><b>is</b></i>, how can
                  I make use of it or understand how the surrounding code uses it?</p>
                  <p>On the other hand, I can't help notice that all those
                  variables are <code>int</code>s and that their names contain the
                  word <i>days</i>.
                  </p>
                  <p>What does that make me think? That
                  <code><b>days</b>SinceCreation</code> is sitting there just
                  waiting to be subtracted to
                  <code><b>seconds</b>SinceTheEpoch</code>, and the difference to be assigned
                  to <code><b>day</b>OfCreation</code>, resulting in a
                  wonderfully cinematographic temporal paradox that features us
                  travelling to a very far future to create a new file that has always existed&hellip;
                  (I hope the joke is not too obscure&hellip; the bold text should help)
                  </p>
                  <p>So going back to the suggestion, my question is: why should I
                  encode the unit of measure in the name of the variable? The age
                  of a file is just time, whether I express it in days or in seconds.
                  The <code>fileAge</code> part of the name <code>fileAgeInDays</code>
                  is semantically relevant, as it tells me what that variable represents
                  in the piece of code I'm reading. But the <code>InDays</code> part
                  is just an implementation detail.
                  </p>
                  <p>I hear somebody saying <q>once I have decided that I use an <code>int</code>
                  to represent time, I have to encode in the variable names what is
                  the unit of measure of that time, otherwise I risk adding apples and
                  oranges</q>. My answer is that this approach is
                  flawed since the beginning: if you are worried about an <code>int</code> representing
                  a time in days being added to an <code>int</code> representing time in years,
                  that means that <code>int</code> is just not the right type for you,
                  and that you should use a type that handles the unit of measurement
                  automatically.
                  </p>
                  <p>(To know more about this, I suggest reading
                  <a href="https://www.fluentcpp.com/2016/12/05/named-constructors/" target="_blank">
                    the series on strong types by Jonathan Boccara</a>,
                  which I find excellent.)
                  </p>
                  <p>I hear somebody else saying <q>come on, it was just an example!</q>,
                  and my answer is
                  </p>
                  <ul>
                    <li>this is a book about about writing clean code, so it
                      should have been damn careful when giving examples</li>
                    <li>tell me what the cost of writing the above snippet like
                      this would have been:
                      <pre><code class="language-java">Time elapsedTime;
Time timeSinceCreation; // a better name is probably just "age"
Time timeSinceModification;
Time fileAge;</code></pre>
                      <code>Time</code> just screams <q>no worries, I'm the one
                      handling the units</q>. (No, starting a variable name with <code>time</code>
                    in this case is not duplicating information already contained in the type, but is disambiguating:
                    using a standalone <code>sinceCreation</code> we wouldn't know if that is a time
                    or a number of events, just to say; <code>fileAge</code> encodes the "time-ness"
                    in the <code>Age</code> part, so we don't need <code>time</code> in its name.)
                    </li>
                  </ul>
                  <p>Then Martin claims that it's hard to tell what the following code is doing
                  </p>
                  <blockquote>
                    <pre><code class="language-java">public List&lt;int[]&gt; getThem() {
  List&lt;int[]&gt; list1 = new ArrayList&lt;int[]&gt;();
  for (int[] x : theList)
  if (x[0] == 4)
    list1.add(x);
  return list1;
}</code></pre>
                  </blockquote>
                  <p>
                  which I can't disagree with, but I feel there are two candidates
                  for why the code is not clear:
                  </p>
                  <ol>
                    <li>the names of the variables are badly chosen</li>
                    <li>the code mixes two levels of abstraction and
                      hard codes stuff that should be named appropriately
                      and taken as input</li>
                  </ol>
                  <p>Uncle Bob obviously picks number 1 and goes full steam on
                  his crusade, but we disagree even earlier than that, when he
                  writes <q>There aren't even any fancy classes or polymorphic
                  methods</q>, which for me just means that somebody is
                  easily scared by generic code.
                  </p>
                  <p>Anyway, he eventually shows us his shiny code
                  </p>
                  <blockquote>
                    <pre><code class="language-java">public List&lt;Cell&gt; getFlaggedCells() {
  List&lt;Cell&gt; flaggedCells = new ArrayList&lt;Cell&gt;();
  for (Cell cell : gameBoard)
    if (cell.isFlagged())
      flaggedCells.add(cell);
  return flaggedCells;
}</code></pre>
                    With these simple name changes, it's not difficult to understand what's going on. This is
                    the power of choosing good names.
                  </blockquote>
                  <p>
                  Incidentally, where does <code>gameBoard</code> come from?
                  It's a global variable, which means
                  <code>getFlaggedCells()</code> function has side effects: it
                  will return different output without you changing the inputs
                  you pass to it (yeah, it doesn't take inputs, which is a symptom
                  of impurity). A few pages later Uncle Bob will suggest that
                  code should not have side effect. What a undecided man&hellip;
                  </p>
                  <p>I don't know how understandable that code is if you don't
                  <b>parse</b> it, just as you were the compiler (or the JVM,
                  or whatever it's needed to run that crap), but I know that
                  Uncle Bob will write the following code somewhere else (modulo
                  <i>I-don't-know-Java-sorry</i>)
                  </p>
                  <pre><code class="language-java">public Set&lt;Book&gt; getProgrammingBooks() {
  Set&lt;Book&gt; programmingBooks = new ArraySet&lt;Book&gt;();
  for (Book book : libraryShelf)
    if (book.isOnProgramming())
      programmingBooks.add(book);
  return programmingBooks;
}</code></pre>
                  <p>
                  And guess what's the difference? None! The two codes are just
                  doing the same thing: filtering a container according to a
                  predicate (a.k.a. I've just renamed the variables/types/names
                  to make the latter snippet from the former).
                  </p>
                  <p>So why should we write those two functions, instead
                  of writing just one generic function that we use in
                  the context we need? Again, I don't know any Java, but
                  I guess this pseudo-Java conveys what I mean:
                  </p>
                  <pre><code class="language-java">public Container&lt;Item&gt; filter(Container&lt;Item&gt; container, Pred pred) {
  Container&lt;Item&gt; newCont = new ArrayContainer&lt;Item&gt;();
  for (Item item : container)
    if (pred(item))
      newCont.add(item);
  return newCont;
}</code></pre>
                  <p>Notice that this piece of code above is closer to the initial
                  version (of which Uncle Bob says that telling what it does it's not easy)
                  than it is to the questionably refined one:
                  </p>
                  <ul>
                    <li>The original version
                      <ul>
                        <li class="bad">used specific types, such as <code>List</code>, <code>ArrayList</code>, and <code>int</code>,</li>
                        <li class="bad">hard-coded the predicate,</li>
                        <li class="bad">depended on a global variable,</li>
                        <li class="good">but at least used names that were not bound to the specific domain <i>of the caller</i>
                          (even though they uselessly hard-code informations which is already encoded in the type,
                          e.g. why calling a <code>List</code> <code>theList</code>?);</li>
                      </ul>
                    </li>
                    <li>uncle Bob's final version
                      <ul>
                        <li class="bad">kept using specific types, such as <code>List</code>, <code>ArrayList</code>, <code>Cell</code>,</li>
                        <li class="bad">kept hard-coding the predicate,</li>
                        <li class="bad">kept depending on a global variable,</li>
                        <li class="bad">used the caller's domain-specific names for the variables;</li>
                      </ul>
                    </li>
                    <li>my version
                      <ul>
                        <li>well, by <code>Container</code> I mean a generic type, but I don't know how to do that in Java,</li>
                        <li class="good">takes the predicate as an input argument,</li>
                        <li class="good">takes the input collection as an input argument,</li>
                        <li class="good">uses generic names that don't commit to any specific domain the caller could choose to use it for.</li>
                      </ul>
                    </li>
                  </ul>
                  <p>
                  And if the C++ programmer that I am were to kick in,
                  then I would say that if your language doesn't have
                  a library function for filtering a container,
                  then you'd better change the language.
                  </p>
                  <p>Here's a C++11 solution, which uses the <a href="https://en.wikipedia.org/wiki/Erase-remove_idiom">erase-remove idiom</a>:
                  <pre><code class="language-cpp">template&lt;typename Container, typename Predicate&gt;
Container filter(Container c, Predicate p) {
    c.erase(std::remove_if(c.begin(), c.end(), p), c.end());
    return c;
}</code></pre>
                  and finally here a C++17,
                  <pre><code>#include &lt;range/v3/view/filter.hpp&gt;
using ranges::views::filter;</code></pre>
                  and here a C++20 solution,
                  <pre><code>#include &lt;ranges&gt;
using std::ranges::views::filter;</code></pre>
                  <q>What's that?! Just an <code>#include</code> and a <code>using</code>?</q>
                  Yeah, because in both cases the function for filtering
                  is just there, in the appropriate header and in the
                  appropriate namespace, and you can easily use it
                  <pre><code>auto w = filter(v, pred);  // these two
auto w = v | filter(pred); // are equivalent</code></pre>
                  (<a href="https://godbolt.org/z/7xTEKqPjW">See full example on Compiler Explorer</a>.)
                  </p>
                  <p>
                  Going back to my claim that Martin's code mixes two levels of abstraction,
                  now it should be clearer: he prompts us to name every aspect
                  that is <i><b>inside the body of that function</b></i>
                  according to the use that the <i><b>caller</b></i> makes of it, which clearly
                  depends on the domain of the caller: in his example a board game, in my
                  counter example the old library down the road. In some way,
                  the specific use-case that the caller makes of this function, which
                  is at a given level of abstraction,
                  has leaked into the function, the content of which, says
                  Martin, should be one abstraction level lower than its call site (exact quote is
                  <q>Notice that the three steps of the function are one level
                    of abstraction below the stated name of the function</q>, at the top
                  of page 36).


                  This is clearly in contrast
                  with page 33, first paragraph, where he (righteously) claims
                  that mixing too many levels of abstractions in a function is
                  a bad thing.
                  </p>
                  <p>
                  But the function's implementation screams <q>I'm not so dumb, I can
                  do much more!</q>, and naming stuff as Martin suggests just makes
                  us deaf to that call.
                  </p>
                  <p>Clearly, another thing that deafens us is designing
                  the function such that it takes no arguments (another
                  dogmatic, unjustified, and flat out wrong suggestion that
                  Martin dispenses in the next chapter, Chapter 3), implying
                  that it writes or at least reads from some global state.
                  Because of that, we could erroneously think:
                  </p>
                  <ul>
                    <li>
                      <q>I can filter "things"; if my function takes no
                        "things" in input, how can it be a filter?</q>
                    </li>
                    <li><q>Filtering is done according to a predicate, but my
                        function takes no predicate.</q></li>
                  </ul>
                  <p>Therefore, blindly following Martin's prescriptions will
                  indirectly lead us to make a lot of code duplication, because
                  the names chosen his way will prevent us from seeing common patterns.
                  This is clearly in contrast with what he writes at page 32, first
                  paragraph, where he (righteously) refers code duplication as a bad thing.
                  </p>
                  <p>Then the crusade goes on in a (slightly) less controversial way:
                  </p>
                  <blockquote>
                    <h5>Avoid Disinformation</h5>
                    <p>
                    [&hellip;]
                    </p>
                    <p>
                    A truly awful example of disinformative names would be the
                    use of lower-case L or uppercase O as variable names,
                    especially in combination. The problem, of course, is that
                    they look almost entirely like the constants one and zero,
                    respectively.
                    </p>
                    <pre><code class="language-java">int a = l;
if ( O == l )
  l = O1;
else
  a = 01;</code></pre>
                  </blockquote>
                  <p>
                  I can't disagree, in general, but I'd say that the example is again
                  silly: the IDE will show <code>O1</code> and <code>01</code> in different
                  colors, because the former is a variable name and the latter a numeric
                  literal. <q>What if my IDE doesn't?</q> Then why are you still using it?
                  </p>
                  <p>Oh, I appreciate a footnote related to the use of <code>a</code> and
                  <code>the</code> prefixes for local variables and function arguments
                  (<strike>arguments</strike> parameters, Uncle Bob):
                  </p>
                  <blockquote>
                    Uncle Bob used to do this in C++ but has given up the practice because modern IDEs make it unnecessary.
                  </blockquote>
                  <p>Going forward, about <i>Make Meaningful Distinctions</i>,
                  </p>
                  <blockquote>
                    Number-series naming <code>(a1, a2, .. aN)</code> is the opposite of intentional naming. Such
                    names are not disinformative‚Äîthey are noninformative; they provide no clue to the
                    author's intention.
                  </blockquote>
                  <p>
                  &hellip; except if I'm coding a mathematical function that traditionally uses
                  that well known "number-series naming" convention.
                  </p>
                  <p>And then:</p>
                  <blockquote>
                    <pre><code class="language-java">getActiveAccount();
getActiveAccounts();
getActiveAccountInfo();</code></pre>
                    How are the programmers in this project supposed to know which of these functions to call?
                  </blockquote>
                  <p>
                  <p>Now jump at page 51, Listing 3-7 (Chapter 3),
                  and you'll find two member functions named <code>includeSetupPages()</code>
                  and <code>includeSetupPage()</code> respectively. It is true
                  that the former is public whereas the latter is private, so
                  a user of that class won't have a chance to be in doubt of
                  which one they have to call. But the current chapter is
                  demonizing the coexistence of a singular with its plural
                  for the sake of it.
                  </p>
                  Anyway, while I might agree that <code>getActiveAccountInfo</code> vs
                  <code>getActiveAccount</code> can (and maybe <b>is</b>)
                  confusing, why should <code>getActiveAccount</code> vs
                  <code>getActiveAccounts</code> be confusing at all? It's clear that
                  the former gives one account and the latter some collection
                  of accounts. What's the problem with that? I mean, is the following
                  not clear?
                  </p>
                  <pre><code class="language-cpp">for (Item item : items)
    // do something with this item</code></pre>
                  <p>Then the crusade goes on and targets single-letter names,
                  luckily admitting that they can be acceptable in short contexts
                  (the claim that <q>the length of a name should correspond to
                    the size of its scope</q> is simply hilarious, though).
                  </p>
                  <p>Once more into madness with this code,</p>
                  <pre><code class="language-java">for (int j=0; j&lt;34; j++) {
  s += (t[j]*4)/5;
}</code></pre>
                  <p>which is claimed to be unclear, versus this,
                  </p>
                  <pre><code class="language-java">int realDaysPerIdealDay = 4;
const int WORK_DAYS_PER_WEEK = 5;
int sum = 0;
for (int j=0; j &lt; NUMBER_OF_TASKS; j++) {
  int realTaskDays = taskEstimate[j] * realDaysPerIdealDay;
  int realTaskWeeks = (realdays / WORK_DAYS_PER_WEEK);
  sum += realTaskWeeks;
}</code></pre>
                  <p>which, in my opinion, just hides the fact that the we have just
                  a trivial application of <code>transform</code>/<code>map</code> followed
                  by a <code>reduce</code>/<code>accumulate</code> (unfortunately not
                  all languages agree on how these general purpose utilities are called, sigh).
                  </p>
                  <p>
                  Indeed, in JavaScript, you'd write the above as
                  </p>
                  <pre><code class="language-javascript">taskEstimate.map(x =&gt; x*4/5).reduce((x, y) =&gt; x + y)</code></pre>
                  <p>
                  or even more clearly like
                  </p>
                  <pre><code class="language-javascript">_.sum(_.map(taskEstimate, _.multiply(4/5))) // lodash
_.sum(_.map(_.multiply(4/5), taskEstimate)) // lodash/fp
</code></pre>
                  <p>
                  if you use <a href="https://lodash.com/docs/4.17.15">Lodash</a>/<a href="https://github.com/lodash/lodash/wiki/FP-Guide">lodash/fp</a>.
                  </p>
                  <p><q>But it was just an example!</q> Good, thanks. And what do I get from
                  a book on programming which has silly examples? Philosophy?</p>
                  <p>As regards using searchable names, I agree, but if you are
                  in need of searching the codebase for the running index of a
                  <code>for</code> loop on an array, then either you have no
                  idea what debugging is, or you're dealing with much bigger
                  problem with the surrounding code, so finding that index won't
                  really help you much. After all, if I have a for loop running
                  on the indices of a vector/array (why am I doing this in
                  2022, by the way?), then why should I name that index other than
                  <code>i</code> or <code>j</code>?  It is just a number to
                  loop on the array/vector, it is an implementation detail.
                  </p>
                  <p>Good news is that Martin suggests that we shouldn't use
                  <code>m_</code> prefixes for member variables anymore. Praise
                  the lord!</p>
                  <p>Here's another couple of suggestions which are truly Java-specific:</p>
                  <ul>
                    <li>Classes and objects should have noun or noun phrase names</li>
                    <li>Method Names Methods should have verb or verb phrase names</li>
                  </ul>
                  <p>Sure, and what if a class exists for the sole purpose of providing
                  a method (especially in a language like Java, where everything is a class)?
                  What do I call it then? <code>ClassForMethod<i>MethodName</i></code>?
                  The point is that objects and functions are just the same thing,
                  artificially made different by several (most?) languages; establishing
                  different naming rules is equivalent to encoding the weakness of the
                  language in code. Take <code>std::equal_to</code> in C++: it is a class,
                  but it has a call operator, and we are just meant to use an
                  object of that class, <code>std::equal_to&lt;&gt;{}</code>,
                  as it was a function.
                  </p>
                  <p>Eventually, there's one point I strongly agree with, in the
                  <i>Final Words</i> of this chapter (my emphasis):</p>
                  <blockquote>
                    The hardest thing about choosing good names is that it
                    requires good descriptive skills and a <b>shared cultural
                    background</b>.  This is a <b>teaching issue</b> rather
                  than a technical, business, or management issue.
                  </blockquote>
                  which prompts me to ask a question:
                  <blockquote>Should I write code as if my grandma
                  was to read it? Or should you be willing to learn
                  continuously during your life of programmer, thus
                  lifting your cultural background up with time?</blockquote>
                  <p>&hellip; and this was most I had to say about Chapter 2.</p>
                </div>
              </div>
            </article>

            <article class="post-entry" id="oreilly-clojure-programming">
              <div class="__after-only-child-center-below centered-container">
                <h6 class="text-shadow handwriting underline-underbullet">30/12/2021</h6>
              </div>
              <div class="panel panel--rounded box-shadow text-shadow">
                <div class="panel__header center-text-horz">
                  <h2><a href="#oreilly-clojure-programming">Clojure Programming</a></h2>
                  <img class="panel-icon" src="img/Clojure_logo.png" alt=""/>
                </div>
                <div class="text-shadow">
                  <p>In this post, I'm collecting my thoughts on the <a
                    href="https://www.oreilly.com/library/view/clojure-programming/9781449310387/"><i>Clojure Programming</i></a>
                  book published by O'Reilly.</p>

                  <p>
                  At page 165, in the middle of the section named <i>Promises</i>, the authors claim that
                  </p>
                  <blockquote>
                    An immediately practical application of promises is in easily making callback-based APIs synchronous.
                  </blockquote>
                  <p>
                  and then propose this asynchronous function,
                  </p>
                  <pre><code class="language-clojure">(defn call-service
  [arg1 arg2 callback-fn]
  ; ... do stuff
  (future (callback-fn (+ arg1 arg2) (- arg1 arg2))))</code></pre>
                  <p>
                  this synchronous wrapper,
                  </p>
                  <pre><code class="language-clojure">(defn sync-fn
  [async-fn]
  (fn [&amp; args]
    (let [result (promise)]
      (apply async-fn (conj (vec args) #(deliver result %&amp;)))
      @result)))</code></pre>
                  <p>
                  and this use case,
                  </p>
                  <pre><code class="language-clojure">((sync-fn call-service) 10 7) ; (17 3)</code></pre>
                  <p>What puzzled me of this solution, is the fact that
                  <code>sync-fn</code> doesn't really preserve
                  <code>call-service</code>'s API: we can't even pass a
                  callback function to
                  <code>call-service</code> anymore, because the callback is
                  encoded in <code>sync-fn</code> itself, specifically in the
                  function literal (aka lambda) <code>#(deliver result %&amp;)</code>
                  which entangles together two businesses
                  </p>
                  <ul>
                    <li>executing a pure function on the inputs (the two inputs
                      that <code>call-service</code> passes to
                      <code>callback-fn</code>);
                    </li>
                    <li>populating the <code>result</code> promise via the
                      non-pure <code>deliver</code> utility.
                    </li>
                  </ul>
                  <p>
                  Indeed, <code>#(deliver result %&amp;)</code> is a variadic function
                  that wraps all its arguments into a sequence, via <code>%&amp;</code>,
                  and then passes that sequence as the second argument to <code>deliver</code>,
                  so we can rewrite it as the composition of those two businesses
                  </p>
                  <pre><code class="language-clojure">; equivalent to #(deliver result %&amp;)
(comp (partial deliver result) list)</code></pre>
                  <p>It is apparent, at this point, that <code>list</code> is just one possible
                  function that we want <code>call-service</code> to use on <code>callback-fn</code>'s
                  arguments, so there's no reason for hard-coding it into <code>sync-fn</code>.
                  </p>
                  <p>
                  In fact, we can make it an input to <code>sync-fn</code>:
                  </p>
                  <pre><code class="language-clojure">(defn sync-fn
  [async-fn callback-fn]
  (fn [&amp; args]
    (let [result (promise)]
      (apply async-fn (conj (vec args)
                            (comp (partial deliver result) callback-fn)))
      @result)))</code></pre>
                  <p>
                  which can then be used like this
                  </p>
                  <pre><code class="language-clojure">((sync-fn call-service list)          10 7) ; (17 3)
((sync-fn call-service vector)        10 7) ; [17 3]
((sync-fn call-service #(apply + %&amp;)) 10 7) ; 20
((sync-fn call-service #(apply * %&amp;)) 10 7) ; 51</code></pre>
                  <p>
                  where we pass, as <code>sync-fn</code>'s second argument, the same lambda
                  we would pass to <code>call-service</code> as a third argument.
                  </p>
                  <p>This way, <code>sync-fn</code> doesn't even need any change in the face of
                  changes in what <code>call-service</code> expects the callback to look like
                  (even though the fact that <code>call-service</code> expects the callback
                  function as the last argument is still hard-coded in <code>sync-fn</code>).
                  For instance, if <code>call-service</code> expected a <code>callback-fn</code>
                  that takes a list of arguments rather than distinct arguments,
                  </p>
                  <pre><code class="language-clojure">(defn call-service-2
  [arg1 arg2 callback-fn]
  ; ... do stuff
  (future (callback-fn (list (+ arg1 arg2) (- arg1 arg2)))))</code></pre>
                  <p>
                  then we'd only need to adapt the callback lambdas by making them accept
                  one argument instead of many:
                  </p>
                  <pre><code class="language-clojure">((sync-fn call-service-2 identity)          10 7) ; (17 3)
((sync-fn call-service-2 vec)               10 7) ; [17 3]
((sync-fn call-service-2 (partial apply +)) 10 7) ; 20
((sync-fn call-service-2 (partial apply *)) 10 7) ; 51</code></pre>
                </div>
              </div>
            </article>
          </section>
          <section class="tab-page" id="about-me-tab">
            <div class="programming-skills">
              <h2 lang="en" class="handwriting center-text-horz">Programming skills</h2>
              <h2 lang="it" class="handwriting center-text-horz">Conoscenze di programmazione</h2>
              <div id="radar-plot">
                <div class="radar-plot polar-canvas centered-container img-shadow" style=" --number-of-skills: 6;">
                  <div class="entries">
                    <div style="--i: 0; --tag-name: c++;">
                      <div class="imho trigonometry triangle center-origin--after skill" style="--this-skill: 5; --next-skill: 4.5; --max-skill: 5;">
                        <div class="polar-diagram-icon polar-position">
                          <img src="img/c++-logo.png" alt="C++" title="c++">
                        </div>
                      </div>
                      <div class="from-stackoverflow trigonometry triangle center-origin--after skill">
                        <div class="polar-diagram-icon polar-position">
                        </div>
                      </div>
                    </div>
                    <div style="--i: 1; --tag-name: bash;">
                      <div class="imho trigonometry triangle center-origin--after skill" style="--this-skill: 4.5; --next-skill: 4; --max-skill: 5;">
                        <div class="polar-diagram-icon polar-position">
                          <img src="img/bash-logo.png" alt="bash" title="bash">
                        </div>
                      </div>
                      <div class="from-stackoverflow trigonometry triangle center-origin--after skill">
                        <div class="polar-diagram-icon polar-position">
                        </div>
                      </div>
                    </div>
                    <div style="--i: 2; --tag-name: css;">
                      <div class="imho trigonometry triangle center-origin--after skill" style="--this-skill: 4; --next-skill: 3.5; --max-skill: 5;">
                        <div class="polar-diagram-icon polar-position">
                          <img src="img/css3-logo.png" alt="CSS" title="css">
                        </div>
                      </div>
                      <div class="from-stackoverflow trigonometry triangle center-origin--after skill">
                        <div class="polar-diagram-icon polar-position">
                        </div>
                      </div>
                    </div>
                    <div style="--i: 3; --tag-name: html;">
                      <div class="imho trigonometry triangle center-origin--after skill" style="--this-skill: 3.5; --next-skill: 2.5; --max-skill: 5;">
                        <div class="polar-diagram-icon polar-position">
                          <img src="img/html-logo.png" alt="HTML" title="html">
                        </div>
                      </div>
                      <div class="from-stackoverflow trigonometry triangle center-origin--after skill">
                        <div class="polar-diagram-icon polar-position">
                        </div>
                      </div>
                    </div>
                    <div style="--i: 4; --tag-name: javascript;">
                      <div class="imho trigonometry triangle center-origin--after skill" style="--this-skill: 2.5; --next-skill: 3.5; --max-skill: 5;">
                        <div class="polar-diagram-icon polar-position">
                          <img src="img/javascript-logo.png" alt="JS" title="javascript">
                        </div>
                      </div>
                      <div class="from-stackoverflow trigonometry triangle center-origin--after skill">
                        <div class="polar-diagram-icon polar-position">
                        </div>
                      </div>
                    </div>
                    <div style="--i: 5; --tag-name: haskell;" id="haskell-icon">
                      <div class="imho trigonometry triangle center-origin--after skill" style="--this-skill: 3.5; --next-skill: 5; --max-skill: 5;">
                        <div class="polar-diagram-icon polar-position">
                          <img src="img/haskell_logo_2.png" alt="Haskell" title="haskell" id="haskell-icon">
                        </div>
                      </div>
                      <div class="from-stackoverflow trigonometry triangle center-origin--after skill">
                        <div class="polar-diagram-icon polar-position">
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="loader-wheel center"></div>
                </div>
                <div class="legend">
                  <div class="legend-entry imho">
                    <span lang="en">Self-assessment</span>
                    <span lang="it">Autovalutazione</span>
                  </div>
                  <div class="legend-entry from-stackoverflow">
                    <img src="img/stackoverflow-icon.png" alt=""/>
                    Stack Overflow
                  </div>
                </div>
              </div>
            </div>
            <div class="cv-entry">
              <div class="__after-only-child-center-below centered-container">
                <h6 class="text-shadow handwriting underline-underbullet">06/2020&mdash;present</h6>
              </div>
              <div class="panel panel--rounded box-shadow text-shadow">
                <div class="panel__header panel__header--two-children center-text-horz">
                  <h2 class="handwriting">
                    <span lang="en">C++ Software Engineer</span>
                    <span lang="it">Sviluppatore C++</span>
                  </h2>
                  <div>
                    <img class="panel-icon" src="img/MATLABlogo.png" alt=""/>
                    <h3>MathWorks, Cambridge (<span lang="en">UK</span><span lang="it">Regno Unito</span>)</h3>
                  </div>
                </div>
                <div class="text-shadow">
                  <p lang="en">Design, development, and testing of text comparison back-end tools and algorithms.</p>
                  <p lang="it">Design, sviluppo, e test di algoritmi e strumenti di back-end per confronto di testi</p>
                  <h4 lang="en">Expertise:</h4>
                  <h4 lang="it">Esperienza con:</h4>
                  <ul>
                    <li>C++17</li>
                    <li>template meta-programming</li>
                    <li>SFINAE</li>
                    <li>concepts</li>
                    <li>Boost, Boost.Hana, Range-v3</li>
                    <li lang="en">functional programming</li>
                    <li lang="it">programmazione funzionale</li>
                    <li>Google Benchmark</li>
                    <li>Google Test</li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="cv-entry">
              <div class="__after-only-child-center-below centered-container">
                <h6 class="text-shadow handwriting underline-underbullet">04/2019&mdash;05/2020</h6>
              </div>
              <div class="panel panel--rounded box-shadow text-shadow">
                <div class="panel__header panel__header--two-children center-text-horz">
                  <h2 class="handwriting">
                    <span lang="en">Application Support Engineer</span>
                    <span lang="it">Supporto tecnico</span>
                  </h2>
                  <div>
                    <img class="panel-icon" src="img/MATLABlogo.png" alt=""/>
                    <h3>MathWorks, Cambridge (<span lang="en">UK</span><span lang="it">Regno Unito</span>)</h3>
                  </div>
                </div>
                <div class="text-shadow">
                  <div lang="en">
                    <h4>Main roles:</h4>
                    <ul>
                      <li>Phone/e-mail tech support</li>
                      <li>training assistant at JLR</li>
                      <li>MATLAB Expo</li>
                      <li>lead computer science weekly meetings</li>
                      <li>coaching new hires</li>
                      <li>technical interviews</li>
                    </ul>
                    <h4>Development C++ projects:</h4>
                    <ul>
                      <li>Implementation of Kuo&amp;Cross longest common subsequence algorithm</li>
                      <li>Transition 3p library ‚Üí internal library for HTTP requests</li>
                    </ul>
                  </div>
                  <div lang="it">
                    <h4>Compiti principali:</h4>
                    <ul>
                      <li>Supporto tecnico telefonico e tramite e-mail</li>
                      <li>Assistente trainer presso Jaguar-Land Rover</li>
                      <li>MATLAB Expo</li>
                      <li>Direzione di incontri settimanali su temi di computer science</li>
                      <li>Training di nuovi assunti</li>
                      <li>Interviste tecniche per assunzione</li>
                    </ul>
                    <h4>Progetti di sviluppo in C++:</h4>
                    <ul>
                      <li>Scrittura di algoritmo di Kuo&amp;Cross per il calcolo della <i>longest common subsequence</i></li>
                      <li>Transizione da libreria esterna a libraria interna per richieste HTTP</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            <div class="cv-entry">
              <div class="__after-only-child-center-below centered-container">
                <h6 class="text-shadow handwriting underline-underbullet">2015&mdash;2018</h6>
              </div>
              <div class="panel panel--rounded box-shadow text-shadow">
                <div class="panel__header panel__header--two-children center-text-horz">
                  <h2 class="handwriting">Ph.D. in <span lang="en">Aerospace Engineering</span><span lang="it">Ingegneria Aerospaziale</span></h2>
                  <div>
                    <img class="panel-icon" src="https://seeklogo.com/images/U/Universit_and__224__degli_Studi_di_Napoli_Federico_II-logo-D9EDF680E8-seeklogo.com.png" alt=""/>
                    <h3><span lang="en">Federico II, Naples (Italy)</span><span lang="it">Federico II, Napoli (Italia)</span></h3>
                  </div>
                </div>
                <!-- XXX: to embed PDF in HTML:
                  https://stackoverflow.com/questions/17784037/how-to-display-pdf-file-in-html -->
                  <div class="text-shadow">
                    <h4>
                      <span lang="en">Thesis</span>
                      <span lang="it">Lavoro di tesi</span>
                    </h4>
                    <p>
                    <span lang="en">Development of a 3D fluid-dynamic solver for turbulent flows from scratch</span>
                    <span lang="it">Sviluppo da zero di un solutore fluidodinamico tridimensionale per flussi turbulent</span>
                    </p>
                    <ul>
                      <li>
                        <span lang="en">Object-Oriented Fortran 2003/2008 + MPI 3.1-parallel</span>
                        <span lang="it">Fortran 2003/2008 orientato agli oggetti, parallelizzato tramite MPI 3.1</span>
                      </li>
                      <li>
                        <span lang="en">employed MPI three-dimensional domain decomposition</span>
                        <span lang="it">Utilizzo di decomposizione tridimensionale del dominio</span>
                      </li>
                    </ul>
                  </div>
              </div>
            </div>
            <div class="cv-entry">
              <div class="__after-only-child-center-below centered-container">
                <h6 class="text-shadow handwriting underline-underbullet">2012&mdash;2015</h6>
              </div>
              <div class="panel panel--rounded box-shadow text-shadow">
                <div class="panel__header panel__header--two-children center-text-horz">
                  <h2 class="handwriting"><span lang="en">Master degree in Aerospace Engineering</span><span lang="it">Laurea specialistica in Ingegneria Aerospaziale</span></h2>
                  <div>
                    <img class="panel-icon" src="https://seeklogo.com/images/U/Universit_and__224__degli_Studi_di_Napoli_Federico_II-logo-D9EDF680E8-seeklogo.com.png" alt=""/>
                    <h3><span lang="en">Federico II, Naples (Italy)</span><span lang="it">Federico II, Napoli (Italia)</span></h3>
                  </div>
                </div>
                <div>
                  <p><span lang="en">Final grade</span><span lang="it">Voto finale</span>: <b>110/110 <span lang="en">cum laude</span><span lang="it">e lode</span></b></p>
                  <p><span lang="en">Thesis title</span><span lang="it">Titolo della tesi</span>: <b><i>Parallel implementation of compact schemes for Navier-Stokes simulations</i></b></p>
                  <ul>
                    <li>Description: Compact finite difference numerical schemes are implicit in space, thus
                      requiring the solution of linear systems in order to be used. Parallelization opportunities
                      in applying such schemes have been investigated from the algorithmic point of view
                      and tested on 2D benchmarks.</li>
                    <li>Contribution: An original method has been developed which uses explicit estimates of
                      derivatives to decouple the algebraic systems.</li>
                    <li>Results: The method shows dissipation properties to be reduced by 75% with respect
                      to more standard approaches.</li>
                  </ul>
                  <p><span lang="en">Favourite courses:</span><span lang="it">Corsi che ho preferito:</span></p>
                  <ul>
                    <li>Multimedia signal processing</li>
                    <li>Control theory</li>
                    <li>Complements of gas dynamics (e.g. shockwave structure)</li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="cv-entry">
              <div class="__after-only-child-center-below centered-container">
                <h6 class="text-shadow handwriting underline-underbullet">2008&mdash;2011</h6>
              </div>
              <div class="panel panel--rounded box-shadow text-shadow">
                <div class="panel__header panel__header--two-children center-text-horz">
                  <h2 class="handwriting"><span lang="en">Bachelor degree in Aerospace Engineering</span><span lang="it">Laurea triennale in Ingegneria Aerospaziale</span></h2>
                  <div>
                    <img class="panel-icon" src="https://seeklogo.com/images/U/Universit_and__224__degli_Studi_di_Napoli_Federico_II-logo-D9EDF680E8-seeklogo.com.png" alt=""/>
                    <h3><span lang="en">Federico II, Naples (Italy)</span><span lang="it">Federico II, Napoli (Italia)</span></h3>
                  </div>
                </div>
                <div>
                  <p><span lang="en">Final grade</span><span lang="it">Voto finale</span>: <b>110/110 <span lang="en">cum laude</span><span lang="it">e lode</span></b></p>
                  <p><span lang="en">Thesis title</span><span lang="it">Titolo della tesi</span>: <b><i>Convective heat transfer measurements in transitional circular and chevron jets</i></b></p>
                  <ul>
                    <li>
                      <span lang="en">Description: Study of "cooling" capabilities of Chevron impinging jets</span>
                      <span lang="it">Descrizione: Studio della capacit√† di raffreddamento di un getto Chevron impingente</span>
                    </li>
                    <li>
                      <span lang="en">Contribution: Experimental campaign consisted in heat transfer measurements by means of a thermographic camera</span>
                      <span lang="it">Contributo: Campagna sperimentale consistita in misurazioni di scambio termico tramite camera termografica</span>
                    </li>
                  </ul>
                  <p><span lang="en">Favourite courses:</span><span lang="it">Corsi che ho preferito:</span></p>
                  <ul>
                    <li>
                      <span lang="en">Numerical methods (FD, FV, FEM)</span>
                      <span lang="it">Metodi numerici (DF, VF, MEF)</span>
                    </li>
                    <li>
                      <span lang="en">Aerodynamics</span>
                      <span lang="it">Aerodinamica</span>
                    </li>
                    <li>
                      <span lang="en">Thermodynamics</span>
                      <span lang="it">Termodinamica</span>
                    </li>
                    <li>
                      <span lang="en">Gasdynamics</span>
                      <span lang="it">Gasdinamica</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="cv-entry">
              <div class="__after-only-child-center-below centered-container">
                <h6 class="text-shadow handwriting underline-underbullet">2003&mdash;2008</h6>
              </div>
              <div class="panel panel--rounded box-shadow text-shadow">
                <div class="panel__header panel__header--two-children center-text-horz">
                  <h2 class="handwriting"><span lang="en">High school diploma</span><span lang="it">Diploma di scuola superiore</span></h2>
                  <h3><span lang="en">Liceo "Colombo", Marigliano (Naples, Italy)</span><span lang="it">Liceo "Colombo", Marigliano (Napoli, Italia)</span></h3>
                </div>
                <div>
                  <p><span lang="en">Final grade</span><span lang="it">Voto finale</span>: <b>100/100</b></p>
                  <p><span lang="en">Awards</span><span lang="it">Riconoscimenti</span>:</p>
                  <ul>
                    <li>
                      <span lang="en"><b>Bronze medal</b> at the <b>National stage</b> of "Olimpiadi della Matematica 2008" (90th classified out of 300 participants)</span>
                      <span lang="it"><b>Medaglia di bronzo</b> alla <b>fase Nazionale</b> delle "Olimpiadi della Matematica 2008" (90esimo classificato su 300 partecipanti)</span>
                    </li>
                    <li>
                      <span lang="en"><b>2nd classified</b> at <b>Provincial stage</b> of "Olimpiadi della Fisica 2008" (among ~100 participants)</span>
                      <span lang="it"><b>2¬∞ classificato</b> alla <b>fase Provinciale</b> delle "Olimpiadi della Fisica 2008" (tra ~100 partecipanti)</span>
                    </li>
                    <li>
                      <span lang="en">Top 5 classification every year at the institute competition to select participants for</span>
                      <span lang="it">Tra i primi 5 classificati ogni anno alle gare d'istituto per la selezione dei partecipanti alle</span>
                      <ul>
                        <li>Olimpiadi della Matematica</li>
                        <li>Olimpiadi della Fisica</li>
                        <li>Olimpiadi della Chimica</li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </section>
        </div>
      </main>
      <!--Stuff to put somewhere
        <ul>
        <li>The importance of function objects</li>
        <li>
        about lambdas
        <ul>
        <li>http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2017/p0573r1.html</li>
        <li>https://artificial-mind.net/blog/2020/09/12/recursive-lambdas</li>
        </ul>
        </li>
        <li>How this site was designed</li>
        <li>boost::hana::on in JS</li>
        <li>Bird meme</li>
        <li>Reference collapsing with `const` and it's relation to the East-`const` convention</li>
        <li>How to isolate `using`s when declaring a function object in header file</li>
        <li>WinZoZ</li>
        <li>in something like `(align_words ^on^ tokenizeToWords)(sides...);`, the `^on^` is necessary</li>
        <li>Haskellize your C++</li>
        <li>about matrix with zero rows and it's transpose; types vs values</li>
        <li>importance of lazyness `const leftIndices = [...Array(leftStartsAndLengths.length).keys()].map(x => x + leftSnippet.start);`</li>
        <li>getNth</li>
        <li>unzip via drawings</li>
        <li>
template <std::size_t N>
auto toSimulinkObjectEdit(comparisons::NodeEdit<N> const& nodeEdit) {
    SimulinkObjectEdit<N> edit{};
    for (auto side : comparisons::sidesof(nodeEdit)) {
        if (auto&& maybe = side(nodeEdit)) {
            side(edit) = toSimulinkObject(*maybe);
        }
    }
    return edit;
}
am I wrong or the body could be almost return unpack(transform2(nodeEdit, toSimulinkObject), make_array);?
        </li>
        <script class="image-like" id="asciicast-UrSLE5YyCBIld7tpxtSoYgjcw" src="https://asciinema.org/a/UrSLE5YyCBIld7tpxtSoYgjcw.js" async></script>
        </ul>
        https://www.webmasterpoint.org/programmazione/html5/guida-html5/struttura-sito-header-nav-section-article-aside-footer-nuovo-doctype.html
        https://www.courseduck.com/programming/css/
        2010-08-23 http://happyworm.com/blog/2010/08/23/the-future-of-web-apps-single-page-applications/
        2011-05-28 https://blog.danwebb.net/2011/5/28/it-is-about-the-hashbangs
        2012-12-20 https://www.codeproject.com/articles/505152/anatomy-of-html5-javascript-single-page-applicatio
        2015-02-05 https://tutorialzine.com/2015/02/single-page-app-without-a-framework
        2015-03-09 https://css-tricks.com/using-the-html5-history-api/
        2015-06-18 http://tutorials.jenkov.com/html5/history-api.html
        2015-08-03 https://zinoui.com/blog/single-page-apps-html5-pushstate?amp=1
        2017-02-16 https://www.klaasnotfound.com/2017/02/16/proper-multilingual-site-with-github-pages-and-jekyll/
        2018-01-30 https://medium.com/@george.norberg/understanding-single-page-application-routing-without-a-library-or-framework-ac781b649995
        2018-06-25 https://css-tricks.com/drawing-images-with-css-gradients/
        2020-03-02 https://www.techboxweb.com/build-a-javascript-single-page-application-without-framework/
        2020-05-17 https://itnext.io/build-a-single-page-web-app-javascript-and-the-dom-90c99b08f8a9
        2021-07-28 https://css-tricks.com/using-absolute-value-sign-rounding-and-modulo-in-css-today/

        Regarding the StackOverflow API limits:
        https://meta.stackoverflow.com/questions/356419/what-is-quota-max-and-quota-remaining-in-api-stackexchange-com-2-2-users-api
        https://meta.stackexchange.com/questions/305332/getting-all-questions-with-a-specific-tag
        https://meta.stackexchange.com/questions/243773/stack-exchange-api-too-many-requests-from-this-ip-address/243798#243798
        https://stackapps.com/questions/67/how-api-keys-work-faq
        https://stackapps.com/questions/3645/do-the-terms-key-and-access-token-refer-to-the-same-thing
        -->
    </div>
    <footer class="footer panel box-shadow text-shadow">
      <div class="footer__inner panel__header">
        <span lang="it"><strike>Copiadestra</strike></span>
        Copyright &copy;
        <script>
          document.write([new Date().getFullYear()].map(x => x == 2021 ? x : "2021&mdash;" + String(x))[0])
        </script>
        Enrico Maria De Angelis
      </div>
    </footer>
  </body>
</html>
